<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title> ~ typr.club</title>
  <meta name="viewport" content="width=device-width" />
  <meta name="description" content="An app with short videos and chat." />

  {{#if currentRoom}}
    <meta property="og:title" content="~ typr.club - {{ currentRoom }}" />
  {{else}}
    <meta property="og:title" content="~ typr.club" />
  {{/if}}

  <meta property="og:description" content="An app with short videos and chat." />
  <meta property="og:image" content="{{ ogImageUrl }}" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <link rel="manifest" href="/manifest.json">

  <link href='https://fonts.googleapis.com/css?family=Dancing+Script:700' rel='stylesheet' type='text/css'>

  <link rel="shortcut icon" href="/favicon.png">

  <link rel="stylesheet" href="/styles/index.css">
  {{#if homePage}}
    <link rel="stylesheet" href="/styles/homepage.css">
  {{else}}
    {{#if helpPage}}
      <link rel="stylesheet" href="/styles/help.css">
    {{/if}}
  {{/if}}

</head>
<body>
  <nav data-hook="top-bar">
    <span class="content">
      <span class="title">
        <a href= "/" class="typr">Typr.</a> Send short messages with video, 8 seconds max.
<!--         <span class="subtitle">You can also go on a private room, here's a random one: <a data-hook="rand-link" href="">http://typr.club/the-very-random</a></span> -->
    </span>
  </nav>

  {{#if homePage}}
    <div class="home">
      <h1>typr</h1>

      <div class="home-subscriptions" style="display:none">
        <h3>Subscribed rooms:</h3>
          <div class="notifications" data-hook="notifications"></div>
          <div data-hook="rooms" class="rooms-container"></div>

      </div>

      <div class="home-copy">
        <p>Communicate using short messages with video, up to 8 seconds long.
        <br/>
        Create gifs and share them in Slack, Facebook, everywhere!</p>

        <p>It's easy - just create your <i>secret</i> room, share the URL and type away!</p>

        <div class="form">
          <span class="fake-input">
            <span>http://typr.club/</span>
            <input type="text" value="" data-hook="goto-input"/>
          </span>
          <button data-hook="goto">Go</button>

          <div class="help"><a href="/help">A big help page.</a></div>

        </div>
      </div>

    </div>
  {{else}}
    {{#if helpPage}}
      <div class="home">
        <h1>typr</h1>

        <div class="help-copy">
          <p>Need help? I'm glad you asked.</p>

          <h2>Basics</h2>

          <p>Use this <i>typr.club</i> thing to communicate with your friends (or foes) using short videos and text messages together. Just create a new room from the <a href="/">homepage</a>, share the link and you'll all be imediatelly connected and sharing messages in realtime! :)</p>

          <p>When you first use it, you'll need to give typr permission to use your webcam. The dialog in Chrome looks something like this, and all you have to do is click <i>Allow</i>.</p>

          <img src="/help-camera-permissions.png" alt="" style="display:block; margin:0px auto" alt="Nevermind it says localhost, that shit's really not important right now" title="Nevermind it says localhost, that shit's really not important right now">

          <p>To send a message, simple write something in the text box and press <i>enter</i>. The camera will start recording when you press your first character and will stop when you press the <i>enter</i> key or after 8 seconds - the maximum length of your videos/messages.</p>

          <h2>Rooms</h2>

          <p>All rooms are secret but public.<br>To join a room, simply add whatever to the URL <span style="font-family: monospace">(https://typr.club/your-room-name-here)</span> - obviously except <i>help</i>, that ain't gonna work and will lead you back here, smartass.

          <p>You can see how many people are currently connected to your room in the upper right corner.</p>

          <h2>Sharing</h2>

          <p>Sharing is easy: just place your mouse over a message, click the arrow and voil√† the sharing options. You can share any typr message as a gif file. </p>

          <img src="/help-sharing.jpg" alt="" style="display:block; margin:0px auto" alt="TODO: Replace by screenshot of funny video" title="TODO: Replace by screenshot of funny video">

          <p>You can also set up an integration with Slack to make the sharing of messages on a typr room to a Slack team easier. Just click the Add to Slack button on any message, follow the authorization steps, and you'll be allowed to share all your room's messages in whatever Slack channel you want!</p>

          <p>You can also share it on facebook and "heart" things. Great stuff I know.</p>

          <h2>Subscriptions</h2>

          <p>Subscribing to rooms you and your friends use on a regular basis is always a great idea.</p>

          <p>The latest messages from your subscribed rooms will show up in the homepage and you can reply directly from there - really handy.</p>

          <p>Moreover if you're using Chrome, a cheeky Notification permission will be requested. Shall you allow it to happen (<i>#allowit</i>), typr will send you web push notifications when a new message comes through and typr is not open. Amazing stuff.</p>

          <p>--</p>

          <p>Thats it! You have my contact down here so let me know should anything break/not make sense.</p>

        </div>

      </div>
    {{else}}
      <div class="notifications" data-hook="notifications"></div>
      <div data-hook="rooms" class="rooms-container"></div>
    {{/if}}
  {{/if}}

  {{#if res}}
  <div class="inline-hack">
    <div class="chat-container">
    {{#each res}}
      <div class="message">
        <img src={{ poster }} class="poster" style="min-height:80px" />
        <span class="text">{{text}}</span>
      </div>
    {{/each}}
    </div>
  </div>
  {{else}}
    <script src="jspm_packages/system.js"></script>
    <script src="config.js"></script>
    <script src="build.js"></script>
    <script>
      {{#if helpPage}}
        System.import('lib/help.js');
      {{else}}
        System.import('lib/main.js');
      {{/if}}
    </script>
 {{/if}}

 <div class="footer">
   ~ typr.club - made in london, with <i class="mdi mdi-heart"></i>, in 2015 - <a href="mailto:ruiramos@gmail.com">contact</a> - <a href="/help">need help?</a>
 </div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-38568098-4', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>