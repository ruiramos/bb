<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title> ~ typr.club</title>
  <meta name="viewport" content="width=device-width" />
  <meta name="description" content="An app of short videos and chat." />

  <meta property="og:title" content="typr.club" />
  <meta property="og:description" content="An app of short videos and chat." />
  <meta property="og:url" content="http://typr.club" />
  <meta property="og:image" content="http://typr.club/thumb?id={{ currentRoom }}" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1024" />
  <meta property="og:image:height" content="768" />

  <link rel="manifest" href="/manifest.json">

  <link rel="shortcut icon" href="/favicon.png">

  <style>
    * {
      box-sizing: border-box;
    }

    .hide { display: none; }
    .pull-right { float: right; }

    a, a:active{
      color: #5D5DEC;
    }

    nav a:hover {
      color: #fff;
    }

    ::selection {
      color: white;
      background: pink; /* WebKit/Blink Browsers */
    }

    body {
      font-family: Helvetica;
      padding: 0;
      margin: 0;
    }

    .inline-hack {
      font-size: 0;
    }

    .composer-container {
      margin-top: 5px;
      width:24.5%;
      margin:0.25%;
      position: relative;
      display: inline-block;
    }

    video.test-video {
      width:100%;
      transition: -webkit-filter 300ms ease-out;
    }

    video.test-video.grayscale {
      -webkit-filter: contrast(0.2) grayscale(1);
    }

    input.test-input {
      padding: 6px 8px;
      width: 97.5%;
      font-size: 18px;
      position: absolute;
      border: 0;
      background-color: rgba(255,255,255,0.5);
      bottom: 6px;
      left: 1.25%;
    }

    .chat-container {
      display: inline;
    }

    .chat-container .message {
      width: 24.5%;
      margin:0.25%;
      display:inline-block;
      position: relative;
      vertical-align: top;
      background: black;
      -webkit-user-select: none;

      transition: opacity 200ms ease-out;
    }

    .chat-container .message.no-autoplay:before {
      position: absolute;
      top: 0;
      left: 0;
      width:100%;
      height: 100%;
      background: rgba(200,200,200,0.25);
      font-size: 9px;
      text-transform: uppercase;
      font-weight: 600;
      line-height: 8em;
      text-align: center;
      content: 'Tap to load videos!';
      z-index: 9000;
      color: white;
      opacity: 0.55;
    }

    .chat-container .message.selfie {
      opacity: 0.5;
    }

    .chat-container .message .remove-element {
      position: absolute;
      top:-4px;
      right:-4px;
      left: auto;
      width:22px;
      height:22px;
      border-radius: 100%;
      border-top: 1px solid #333;
      border-right: 1px solid #333;
      border-left: 1px solid #000;
      border-bottom: 1px solid #000;
      font-weight: 600;
      background: black;
      color: #aaa;
      font-size: 12px;
      text-align: center;
      line-height: 21px;
      z-index:9999;
      cursor: pointer;
      transition: background 150ms ease-out,
                  color 150ms ease-out,
                  border-color 150ms ease-out;
    }

    .chat-container .message .remove-element:hover {
      background:#333;
      color: white;
      border-color: #333 #333 #222 #222;
    }

    .chat-container .message video,
    .chat-container .message img.poster {
      width: 100%;
    }

    .chat-container .message span.text {
      position: absolute;
      left: 0;
      bottom: 0;
      font-size: 32px;
      overflow: hidden;
      font-weight: bold;
      text-shadow: 0px -1px 2px rgba(0,0,0,0.7);
      color: white;
      opacity: 0.55;
    }

    .chat-container .message .overlay {
      opacity: 0;
    }

    .chat-container .message:not(.selfie) .overlay {
      position: absolute;
      z-index: 9999;
      top: 0;
      left: 0;
      font-size:24px;
      width: 100%;
      height: 100%;
      background: #eee;
      opacity: 0;
      text-align: center;
      line-height: 100%;

      transition: opacity 200ms ease-out;
    }

    .chat-container .message:not(.selfie):hover .overlay {
      opacity: 0.275;
    }

    .chat-container .message:not(.selfie) .overlay .icon-container {
      color:black;
      font-size: 62px;
      position: relative;
      top: 50%;
      margin-top: -25px;
      text-align: center;
    }

    .mdi {
      position: relative;
      z-index: 9999;
      transition: color 200ms ease-out;
    }

    .icon-container .mdi-heart:hover {
      color: red;
      cursor: pointer;
    }

    .icon-container .mdi-share:hover {
      color: blue;
      cursor: pointer;
    }

    .chat-container .message.selfie .heart-count {
      opacity: 0;
      transition: opacity 100ms ease-out;
    }

    .chat-container .message:not(.selfie) .heart-count {
      position: absolute;
      opacity: 0.5;
      text-shadow: 0px 1px 2px rgba(0,0,0,0.5);
      font-size: 14px;
      color: white;
      margin: 4px;
    }

    .chat-container .message:not(.selfie) .heart-count i {
      margin-right: 4px;
    }

    @keyframes heart-animation {
      0% {
        transform: translate(0, 50px) rotate(-8deg);
        opacity: 0;
        color: red;
      }

      40% {
        transform: rotate(8deg);
        opacity: 0.7;
      }

      80% {
        transform: rotate(0deg);
      }

      100% {
        transform: translate(0, 0px) rotate(0deg);
        opacity: 1;
        color: white;
      }

    }

    .heart-count.animate i.mdi-heart {
      animation: heart-animation 0.9s ease-out;
    }

    .room-title {
      display: block;
      border-bottom: 2px solid #eee;
      margin: 0 6px;
      position: relative;
    }

    .room-title a {
      font-size:12px;
      display: inline-block;
      font-weight: 600;
      margin: 20px 0 2px 0;
      text-decoration: none;
      background-color: #AB6B75;
      color: white;
      padding:1px;

      transition: background 200ms ease-out;
    }

    .room-title a {
      /*color: #333;*/
    }

    .room-title a:hover {
      color: #fff;
      background: #D896A0;
    }

    .room-title .connected-clients {
      padding: 1px;
      font-size: 11px;
/*      position: absolute;
      right: 0;
      bottom: 1px;
*/
      margin-left:3px;
      background-color: white;
      color: #222;
      font-weight: 600;
    }

    nav {
      background: #2F2A27;
      position: relative;
      text-align: center;
      font-size:0.75em;
      color: #B3AFB2;

      min-height: 34px;
    }

    nav .content a.typr {
      background-color: #AB6B75;
      color: white;
      text-decoration: none;
      font-weight: bold;
      transition: background 200ms ease-out;
    }

    nav .content a.typr:hover {
      background: #D896A0;
    }

    nav .content .subtitle {
      color: #777575;
    }

    nav .title {
      line-height: 34px;
    }

    nav .pull-right {
      position: absolute;
      right: 8px;
    }

    nav .clients,
    nav .room,
    nav button {
      background: #424040;
      color: #eee;
      border-radius: 4px;
      padding: 4px 9px;
      font-size: 10px;
      font-weight: 600;
      margin: 6px 4px;
      display: inline-block;
    }

    nav button {
      cursor: pointer;
      background: #eee;
      color: #222;
      border: 0;
      border-bottom: 2px solid #aaa;
      transition: background 200ms ease-out;
    }

    nav button.active {
      background: #424040;
      color: #eee;
      border-bottom-color: #222;
    }

    nav button:hover {
      background: #cfcfcf;
    }

    nav button.active:hover {
      background: #323030;
    }

    nav button.subscribe-btn {
      position: relative;
      outline: 0;
      min-width: 75px;
      z-index:9;
    }

    nav button.subscribe-btn:after {
      position: absolute;
      top: 100%;
      left: -20%;
      width: 123%;
      margin-top: 10px;
      padding: 4px;
      color: #eee;
      background:#222;

    }

    nav button.subscribe-btn:hover:after {
      content: 'Subscribing means you\'ll see this room in the homepage. It\'s great!';
    }


    .notifications {
      position: absolute;
      text-align: center;
      display: block;
      top: 5%;
      width: 100%;
      z-index: 9999;
    }

    .notifications .message {
      position: relative;
      top: -400px;
      opacity: 0;
      font-size:12px;

      padding:3px 6px;

      transition: top 300ms ease-out,
                  opacity 300ms ease-out;
    }

    .notifications .message.in {
      top: 0;
      opacity: 1;
    }

    .notifications .message.warn-message{
      background: yellow;
    }

    /* media queries!!! */

    @media all and (min-width: 1650px){
      .composer-container {
         width:19.5%;
         margin:0.25% 0.25%;
       }

      .chat-container .message {
        width: 19.5%;
        margin:0.25% 0.25%;
      }

    }

    @media only screen and (max-width: 850px){
      .composer-container {
         width:32.5%;
         margin:0.25% 0.25%;
       }

      .chat-container .message {
        width: 32.5%;
        margin:0.25% 0.25%;
      }

      .chat-container .message span.text {
        font-size: 26px;
      }

      nav .room {
        right: 12px;
      }

      nav .title {
        line-height: 1em;
        width: 100%;
        display: block;
      }

      nav .pull-right {
        position: static;
        display: block;
      }

      nav .content {
        font-size: 11px;
        padding: 10px 0;
        display: inline-block;
      }

      .desktop {display: none; !important}
    }

    @media only screen and (max-width: 400px){
      .composer-container {
         width:49.5%;
         margin:0.25% 0.25%;
       }

      .chat-container .message {
        width: 49.5%;
        margin:0.25% 0.25%;
      }

      .chat-container .message span.text {
        font-size: 22px;
      }

      .desktop {display: none; !important}
    }

  </style>

</head>
<body>
  <nav data-hook="top-bar">
    <span class="content">
      <span class="title">
        <a href= "/" class="typr">Typr.</a> Send short messages with video, 8 seconds max.
        <span class="subtitle">Also with private room support, here's a random one: <a data-hook="rand-link" href="">http://typr.club/the-very-random</a></span>
    </span>
  </nav>
  <div class="notifications" data-hook="notifications"></div>
  <div data-hook="rooms" class="rooms-container"></div>

  {{#if res}}
  <div class="inline-hack">
    <div class="chat-container">
    {{#each res}}
      <div class="message">
        <img src={{ poster }} class="poster" style="min-height:150px" />
        <span class="text">{{text}}</span>
      </div>
    {{/each}}
    </div>
  </div>
  {{else}}
    <script src="jspm_packages/system.js"></script>
    <script src="config.js"></script>
    <script src="build.js"></script>
    <script>
      System.import('lib/main.js');
    </script>
 {{/if}}

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-38568098-4', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>